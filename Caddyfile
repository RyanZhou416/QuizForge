:80 {
	root * /srv
	file_server

	# SPA fallback: serve index.html for unmatched routes
	try_files {path} /index.html

	# Cache static assets
	@static path *.js *.css *.wasm *.png *.jpg *.svg *.ico *.woff *.woff2
	header @static Cache-Control "public, max-age=31536000, immutable"

	# No cache for HTML (always get latest version)
	@html path *.html /
	header @html Cache-Control "no-cache, no-store, must-revalidate"

	encode gzip zstd
}
